<section class="contact-page section-padding" aria-label="Contact">
    <div class="container">

        <h1 class="section-title">Me <span>Contacter</span></h1>
        <p class="section-subtitle">Un projet en t√™te ? Une opportunit√© √† partager ? √âcrivez-moi !</p>

        <div class="contact-layout">

            <!-- Form -->
            <div class="contact-form-wrap animate-fade-up">
                <h2 class="form-title">Envoyer un message</h2>

                @if (status === 'success') {
                <div class="alert alert--success">
                    ‚úÖ Message envoy√© ! Je vous r√©pondrai rapidement.
                    <button class="alert__close" (click)="resetStatus()">√ó</button>
                </div>
                }
                @if (status === 'error') {
                <div class="alert alert--error">
                    ‚ùå Une erreur est survenue. Envoyez-moi un mail directement.
                    <button class="alert__close" (click)="resetStatus()">√ó</button>
                </div>
                }

                <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>

                    <div class="form-row">
                        <div class="form-group" [class.invalid]="isInvalid('name')">
                            <label for="name">Nom complet *</label>
                            <input type="text" id="name" formControlName="name" placeholder="Votre nom"
                                autocomplete="name">
                            @if (isInvalid('name')) {
                            <span class="form-error">Nom requis (min. 2 caract√®res)</span>
                            }
                        </div>

                        <div class="form-group" [class.invalid]="isInvalid('email')">
                            <label for="email">Email *</label>
                            <input type="email" id="email" formControlName="email" placeholder="votre@email.com"
                                autocomplete="email">
                            @if (isInvalid('email')) {
                            <span class="form-error">Email invalide</span>
                            }
                        </div>
                    </div>

                    <div class="form-group" [class.invalid]="isInvalid('subject')">
                        <label for="subject">Sujet *</label>
                        <input type="text" id="subject" formControlName="subject" placeholder="Objet de votre message">
                        @if (isInvalid('subject')) {
                        <span class="form-error">Sujet requis (min. 5 caract√®res)</span>
                        }
                    </div>

                    <div class="form-group" [class.invalid]="isInvalid('message')">
                        <label for="message">Message *</label>
                        <textarea id="message" formControlName="message" rows="6"
                            placeholder="D√©crivez votre projet, opportunit√© ou question..."></textarea>
                        @if (isInvalid('message')) {
                        <span class="form-error">Message requis (min. 20 caract√®res)</span>
                        }
                    </div>

                    <button type="submit" class="btn-submit" [disabled]="status === 'sending'">
                        @if (status === 'sending') {
                        <span class="spinner small"></span>
                        Envoi en cours...
                        } @else {
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13" />
                            <polygon points="22 2 15 22 11 13 2 9 22 2" />
                        </svg>
                        Envoyer le Message
                        }
                    </button>

                </form>
            </div>

            <!-- Info panel -->
            <div class="contact-info animate-fade-up delay-200">
                <div class="info-card">
                    <h2 class="info-title">Informations</h2>
                    <ul class="info-list">
                        <li>
                            <span class="info-icon">üìß</span>
                            <div>
                                <strong>Email</strong>
                                <a href="mailto:pakoujuste2019@gmail.com">pakoujuste2019&#64;gmail.com</a>
                            </div>
                        </li>
                        <li>
                            <span class="info-icon">üìç</span>
                            <div>
                                <strong>Localisation</strong>
                                <span>Lom√©, Togo üáπüá¨</span>
                            </div>
                        </li>
                        <li>
                            <span class="info-icon">‚ö°</span>
                            <div>
                                <strong>Disponibilit√©</strong>
                                <span>Ouvert aux opportunit√©s</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="socials-card">
                    <h3>Retrouvez-moi sur</h3>
                    <div class="socials-grid">
                        @for (link of socialLinks; track link.label) {
                        <a [href]="link.url" target="_blank" rel="noopener noreferrer" class="social-card"
                            [style.--social-color]="link.color" [attr.aria-label]="link.label">
                            <span class="social-card__icon">{{ link.icon }}</span>
                            <span class="social-card__label">{{ link.label }}</span>
                        </a>
                        }
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>