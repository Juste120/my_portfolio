// =============================================================================
// styles.scss â€” Global styles entry point
// =============================================================================
@use 'styles/variables' as *;
@use 'styles/mixins' as *;
@use 'styles/animations' as *;

// --- Google Fonts (also in index.html, fallback here) ------------------------
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=JetBrains+Mono:wght@400;500&display=swap');

// --- CSS Reset & Base ---------------------------------------------------------
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
    font-size: 16px;
    -webkit-text-size-adjust: 100%;
}

body {
    font-family: $font-family-base;
    font-size: $font-size-base;
    line-height: $line-height-normal;
    color: $text-dark;
    background-color: $background;
    overflow-x: hidden;
    @include custom-scrollbar;
}

// --- Links --------------------------------------------------------------------
a {
    color: $primary;
    text-decoration: none;
    transition: color $transition-fast;

    &:hover {
        color: color.scale($primary, $lightness: -10%);
    }
}

// --- Images -------------------------------------------------------------------
img {
    max-width: 100%;
    height: auto;
    display: block;
}

// --- Buttons ------------------------------------------------------------------
button {
    font-family: inherit;
    cursor: pointer;
    border: none;
    background: none;
}

// --- Form elements ------------------------------------------------------------
input,
textarea,
select {
    font-family: inherit;
    font-size: inherit;
}

// --- Lists --------------------------------------------------------------------
ul,
ol {
    list-style: none;
}

// --- Headings -----------------------------------------------------------------
h1,
h2,
h3,
h4,
h5,
h6 {
    font-weight: $font-weight-bold;
    line-height: $line-height-tight;
    color: $text-dark;
}

// --- Code ---------------------------------------------------------------------
code,
pre {
    font-family: $font-family-mono;
    font-size: 0.9em;
}

// --- Selection ----------------------------------------------------------------
::selection {
    background: rgba($primary, 0.2);
    color: $text-dark;
}

// --- Focus outline ------------------------------------------------------------
:focus-visible {
    outline: 2px solid $primary;
    outline-offset: 3px;
    border-radius: $radius-sm;
}

// --- Utility classes ----------------------------------------------------------
.container {
    @include container;
}

.section-padding {
    @include section-padding;
}

.text-gradient {
    @include text-gradient;
}

.glass {
    @include glass;
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

// Badge / pill
.badge {
    display: inline-flex;
    align-items: center;
    gap: $spacing-1;
    padding: $spacing-1 $spacing-3;
    border-radius: $radius-full;
    font-size: $font-size-xs;
    font-weight: $font-weight-semibold;
    letter-spacing: 0.03em;

    &.badge-primary {
        background: rgba($primary, 0.12);
        color: color.scale($primary, $lightness: -10%);
        border: 1px solid rgba($primary, 0.25);
    }

    &.badge-secondary {
        background: rgba($secondary, 0.12);
        color: color.scale($secondary, $lightness: -10%);
        border: 1px solid rgba($secondary, 0.25);
    }

    &.badge-mint {
        background: rgba($book-mint, 0.2);
        color: color.scale($book-mint, $lightness: -20%);
        border: 1px solid rgba($book-mint, 0.35);
    }

    &.badge-blue {
        background: rgba($book-blue, 0.15);
        color: color.scale($book-blue, $lightness: -15%);
        border: 1px solid rgba($book-blue, 0.3);
    }

    &.badge-github {
        background: rgba(#24292e, 0.08);
        color: #24292e;
        border: 1px solid rgba(#24292e, 0.2);
    }

    &.badge-gitlab {
        background: rgba(#FC6D26, 0.1);
        color: color.scale(#FC6D26, $lightness: -15%);
        border: 1px solid rgba(#FC6D26, 0.25);
    }

    &.badge-both {
        background: linear-gradient(90deg, rgba(#24292e, 0.08), rgba(#FC6D26, 0.1));
        color: $text-dark;
        border: 1px solid rgba($primary, 0.2);
    }
}

// Section headings
.section-title {
    @include section-title;
}

.section-subtitle {
    text-align: center;
    color: $text-light;
    font-size: $font-size-lg;
    max-width: 600px;
    margin: 0 auto $spacing-12;
    line-height: $line-height-relaxed;
}

// Buttons
.btn-primary {
    @include btn-primary;
}

.btn-outline {
    @include btn-outline;
}

// Loading spinner
.spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba($primary, 0.2);
    border-top-color: $primary;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

// Skeleton loader
.skeleton {
    @extend .shimmer;
    border-radius: $radius-md;
    min-height: 20px;
}

// Router outlet host - needed to fill page height
router-outlet+* {
    display: block;
    min-height: calc(100vh - #{$header-height});
}